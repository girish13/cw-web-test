<div ng-include = "'./templates/header.tpl.html'"></div>
<div ng-include = "'./templates/searchBar.tpl.html'"></div>
<div class = "container">
    <div class="headingBig" ng-if = "restaurants.length == 0">Sorry, we couldn't find anything. Try searching again?</div>
    <div class="headingBig" ng-if = "restaurants.length > 0">Customize and choose packages from {{restaurants.length}} restaurants </div>
    <hr>
</div>

<div class = "container">
    <div class="row">
        <div class = "col-md-3">
            <div class="filters_box white-background-box">
                <div class="headingBig"> Filters <hr>
                </div>
                <!--<div class="row">-->
                    <div class="form-group">
                        <label>Sort By :</label>
                        <select ng-options="type for type in sortTypes" ng-model = "sortType" class="form-control"></select>
                    </div>
                <div class="gap gap-small"></div>
                <!--</div>-->
                <div class="row" ng-repeat="filtertype in filterTypes">
                <div class="col-md-12" >
                    <div class="form-group">
                        <label>Select {{filtertype.type}}</label>
                    <input class="form-control" placeholder="Search {{filtertype.type}}s" ng-model="text[filtertype.type]">
                    <div ng-repeat="filter in filters[filtertype.type] | filter : text[filtertype.type]">
                        <input type = "checkbox" data-checklist-model="selectedFilters" data-checklist-value="filter">
                        {{filter.name}}
                    </div>
                    </div>
                </div>
                    <div class="gap gap-small"></div>
                </div>
                <!--{{selectedFilters}}-->
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Price :</label>
                        <!--<div ui-slider="{range : true}" min="0" max = "2000" step="50" ng-model="priceRange"></div>-->
                        <rzslider
                                rz-slider-model="slider.min"
                                rz-slider-high="slider.max"
                                rz-slider-options="slider.options"></rzslider>
                        </div>
                    </div>
                </div>
                <div class="gap gap-small"></div>
                <div class="row">
                    <div class="col-md-12">
                        <button style="width:100%" class="btn btn-primary" ng-click="filterRestaurants()">Apply Filters</button>
                    </div>
                </div>
            </div>
        </div>
        <div class = "col-md-9 restaurants-list">

            <div class="row white-background-box restaurant-small-box" ng-repeat="restaurant in restaurants">

                <div class="col-md-3">
                    <div class="restaurant-img">
                        <img src="bhasduvbkj.png">
                    </div>
                </div>
                <div class = "col-md-6">
                    <div class="restaurant-name"><a ui-sref="hotel.packages({id : restaurant.restaurant_id})">{{restaurant.name}}</a></div>
                    <small class="italic small-text">{{restaurant.locality_name}},{{restaurant.city_name}}</small>
                    <div class="restaurant-des">{{restaurant.short_description}}</div>
                    <div class="">Cuisines : {{restaurant.cuisines}}</div>
                    <div class="small-text padding-top-5 top-margin-25">Package Price : {{restaurant.min_package_price}} to {{restaurant.max_package_price}}
                    <br>Minimum order Value : {{restaurant.min_order_value}} | Minimum Order Count : {{restaurant.min_order_count}}</div>



                </div>
                <div class = "col-md-3">
                    <uib-rating ng-model="rate" ng-init="rate = restaurant.avg_rating" max="5" readonly="true" titles="['one','two','three']" aria-labelledby="default-rating"></uib-rating>
                       <br> <a class="rating padding-5" ui-sref="hotel.reviews({id : restaurant.restaurant_id})">{{restaurant.review_count}} Reviews</a>
                        <br><br>
                    <button class="btn btn-primary view-restaurant-btn" ui-sref="hotel.packages({id : restaurant.restaurant_id})">View Restaurant</button>
                </div>
            </div>
        </div>
    </div>
</div>