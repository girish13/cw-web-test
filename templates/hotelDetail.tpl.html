<div ng-include = "'templates/header.tpl.html'"></div>
<div ng-include = "'templates/searchBar.tpl.html'"></div>

<div class = "container">
    <div class = "row">
        <div class = "col-md-8">
            <div class="row white-background-box restaurant-small-box">

                <div class="col-md-3">
                    <div class="restaurant-img">
                        <img src="bhasduvbkj.png">
                    </div>
                </div>
                <div class = "col-md-6">
                    <div class="restaurant-name">{{hotel.name}}</div>
                    <small class="italic small-text">{{hotel.locality_name}},{{hotel.city_name}}</small>
                    <div class="restaurant-des">{{hotel.short_description}}</div>
                    <div class="">Cuisines : {{hotel.cuisines}}</div>
                    <div class="small-text padding-top-5 top-margin-25">Package Price : {{hotel.min_package_price}} to {{hotel.max_package_price}}
                        <br>Minimum order Value : {{hotel.min_order_value}} | Minimum Order Count : {{hotel.min_order_count}}</div>
                </div>
                <div class = "col-md-3" ng-init="ratey = hotel.avg_rating">
                    <!--{{hotel.avg_rating}}-->
                    <uib-rating  ng-model="ratey" max="5" readonly="true" titles="['one','two','three']" aria-labelledby="default-rating"></uib-rating>
                    <br><span class="rating padding-5" ui-sref="reviews">{{hotel.review_count}} Reviews</span>
                </div>
            </div>


            <div class="white-background-box">

                <uib-tabset justified="true">
                    <uib-tab ui-sref="hotel.packages" heading="Packages"></uib-tab>
                    <uib-tab ui-sref="hotel.alacarte" heading="A-la-Carte"></uib-tab>
                    <uib-tab ui-sref ="hotel.reviews" heading="Reviews"></uib-tab>
                    <uib-tab ui-sref ="hotel.pictures" heading="Pictures"></uib-tab>
                    <uib-tab ui-sref ="hotel.about" heading="About"></uib-tab>
                </uib-tabset>

                    <div class="hotel-tabs-content" ui-view></div>






            </div>






        </div>
        <div class="col-md-4">
            <div class="white-background-box row" ng-controller="orderController">
            <div class="row">
                <div class="col-md-12">
                    <div class="text-middle"><span class="headingBig">Order Summary</span>
                        <!--<a style="float: right;" ng-click="editOrder()" title = "Edit your Order" href><i class="fa fa-pencil-square-o fa-lg"></i></a>-->
                    </div>
                    <p class="text-middle" ng-controller="locationSearchController">Delivery location : {{selectedLocality.name}},Gurgaon</p>
                    </div>

            </div>
                <div class="gap gap-small"></div>
                <div class="row">
                    <div class="col-md-5">Package</div>
                    <div class="col-md-3">Quantity</div>
                    <div class="col-md-3">Price(&#8377;)</div>
                    <div class="col-md-12"><hr></div>
                </div>
            <div ng-repeat = "order in orders">
            <div>
                <div ng-if = "showPackages(order[2].type)">
                    <div class="row">
                        <div class="col-md-5">{{order[2].name}}</div>
                        <div class="col-md-3"><a href ng-click="decreaseQty(order)"><i class="fa fa-minus-circle"></i></a>{{order[6]}}<a href ng-click="increaseQty(order)"><i class="fa fa-plus-circle"></i></a></div>
                        <div class="col-md-2">{{order[2].price * order[6]}}</div>
                        <div class="col-md-1"><a href class="col-md-1" ng-click = "removeItem(order)"><i class="fa fa-times"></i></a></div>
                        <div class="gap gap-small"></div>
                        <!--<div class="col-md-12"><hr></div>-->
                        <div class=" col-md-12 row" ng-repeat="item in order[2].packageDetails">
                            <div class="">
                               <div class="col-md-12">
                                   <span>{{item.name}}</span>
                                   <a ng-if="item.has_options" href style="float:right" ng-controller="hotelPackagesController" ng-click="open(item,order[4])"><i class="fa fa-pencil"></i>edit</a><hr style="margin-top: 5px;margin-bottom : 10px;">
                               </div>
                                <div class="col-md-12" ng-repeat="itemOption in order[4][item.id]">
                                    <div class="col-md-12" ng-repeat="itemOptionList in itemOption">
                                        <div class="row">
                                            <div class="col-md-4 selected_package_items">{{ order[3][item.id][itemOptionList.menu_item_option_id]}}</div>
                                             <div class="col-md-5 selected_package_items">{{itemOptionList.name}} </div>
                                            <div  class="col-md-3" ng-if = "itemOptionList.price" >
                                                Rs. {{itemOptionList.price}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="gap gap-small"></div>
                            </div>
                        </div>
                        <div class="gap gap-small"></div>
                    </div>

                        By {{order[1].name}}
                    <div class="col-md-12"><hr></div>
                </div>

            </div>


            <div ng-if="showAlacarte(order[2].type)">
                <!--{{odr[2].name}}-->
                <div class="row">
                    <span class="col-md-6">{{order[3].name}}
                    </span>
                    <div class="col-md-2"><a href ng-click="decreaseQty(order)"><i class="fa fa-minus-circle"></i></a>{{order[4]}}<a href ng-click = "increaseQty(order)"><i class="fa fa-plus-circle"></i></a></div>
                    <span class="col-md-3">{{order[3].price * order[4]}}</span>
                    <a href class="col-md-1" ng-click = "removeItem(order)"><i class="fa fa-times"></i></a>
                </div>
                By {{order[1].name}}
                <div class="row"><div class="col-md-12"><hr></div></div>
                <!--AddOn's Price - {{}}-->
                <!--Tax - {{}}-->
                <!--Total Price - {{}}-->
            </div>
            </div>
            <div class="col-md-12">
                <button ng-click="checkout()" style="width : 100%" ng-disabled = "orders.length < 1" class="btn btn-primary">Continue to Checkout</button>
            </div>
            </div>
            <div ng-include = "'./templates/helpBox.tpl.html'"></div>
        </div>

    </div>
</div>